
<script src="bower_components/jquery/dist/jquery.min.js"></script>
<script>

function bootpopup(options) {
    if(!(this instanceof bootpopup))
        return new bootpopup(options);

    console.log("DIE MOTHERFUCKR: " + (this instanceof bootpopup));

   var self = this;
   // Create a global random ID for the form
   this.formid = "bootpopup-form" + String(Math.random()).substr(2);

   this.options = options;

    var button = $("<button></button>", {
        type: "button",
        text: "Push me",
        click: function(e) {
            var button = $(e.target);
            var opt = self.options;
            $("#log").append(opt + "<br>");
            $("#log").append(self.formid + "<br>");
        }
    });

    $("body").append(button);

    this.runthis = function(text) {
        var x = bootpopup(text);
        x.pto = function() {};
        console.log("FUCK YEAH: " + (x instanceof bootpopup));
    }
    return "askljdfhaskjdfhsakls";
}

window.onload = function() {
    var a = bootpopup("hey");
    console.log(a);
    a.runthis("there");
}

</script>

<div id="log"></div>
